extends ../../layouts/default.pug

include ../../mixins/filter-status.pug
include ../../mixins/search-form.pug
include ../../mixins/pagination-bar.pug
include ../../mixins/box-updates.pug

block main 
   h1(class="main-header mb-4")
      div(class="inner-title") Quản lý sản phẩm
      button(
         class="btn btn-primary" 
         button-trash=`/${prefixAdmin}/products/trash`
      ) Sản phẩm đã xoá

   .card.mb-3 
      .card-header Bộ lọc và Tìm kiếm
      .card-body 
         .row 
            .col-6
               +filter-status(filterStatusForFE)
            .col-6
               +search-form(keyword)


   .card.mb-3 
      .card-header Danh sách
      .card-body
         +box-updates(`/${prefixAdmin}/products/change-multi`)
         
         table.table.table-hover.table-sm
            thead
               tr
                  th 
                     input(name="checkAll" type="checkbox")
                  th STT
                  th Hình ảnh
                  th Tên sản phẩm
                  th Giá
                  th Trạng thái
                  th Hành động
            
            tbody
               each aProduct, index in listOfProducts
                  tr 
                     td 
                        input(name="checkItem" type="checkbox" value=aProduct.id)
                     td #{index+1}
                     td
                        img(
                           src=aProduct.thumbnail
                           alt=aProduct.title
                           width="80px"
                           height="auto"
                        )
                     td #{aProduct.title}
                     td #{aProduct.price}$
                     td
                        if(aProduct.status == "active")
                           button(
                              link=`/${prefixAdmin}/products/change-status/${aProduct.status}/${aProduct.id}`  
                              class="badge badge-success" 
                              button-change-status=""
                           ) Hoạt động
                        else
                           button(
                              link=`/${prefixAdmin}/products/change-status/${aProduct.status}/${aProduct.id}` 
                              class="badge badge-danger"
                              button-change-status=""
                           ) Dừng hoạt động 
                     td
                        button(class="btn btn-warning btn-sm") Sửa
                        button(
                           class="btn btn-danger btn-sm ml-1" 
                           button-delete-soft=`/${prefixAdmin}/products/delete/${aProduct.id}`
                        ) Xoá

   +pagination-bar(pagination)